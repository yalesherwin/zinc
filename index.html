<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>é’¢å·åŠ ä»·è®¡ç®—å™¨ | é”Œå±‚ãƒ»æ¼†è†œãƒ»è€æŒ‡çº¹</title>
  <style>
    body {
      font-family: 'Comic Sans MS', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #ffe0ec, #f7f0ff);
      color: #333;
    }
    .container {
      background: #fff0f5;
      padding: 5vw;
      border-radius: 24px;
      max-width: 700px;
      margin: 5vh auto;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border: 4px dashed #ff99cc;
      position: relative;
    }
    h2 {
      text-align: center;
      color: #ff66aa;
      margin-bottom: 6vw;
      font-size: 6vw;
      letter-spacing: 1px;
    }
    label {
      font-weight: bold;
      margin-bottom: 1vw;
      display: block;
      font-size: 4vw;
      color: #cc3399;
    }
    select, input {
      padding: 3vw;
      font-size: 4vw;
      width: 100%;
      border: 2px solid #ff99cc;
      border-radius: 12px;
      margin-bottom: 5vw;
      box-sizing: border-box;
      background: #fff8fb;
      color: #333;
    }
    button {
      padding: 4vw;
      font-size: 4.5vw;
      background: #ff66aa;
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      width: 100%;
      font-weight: bold;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #ff3399;
    }
    .result {
      margin-top: 6vw;
      font-size: 4vw;
      line-height: 1.8;
      background: #fff0f8;
      color: #000;
      padding: 4vw;
      border-radius: 12px;
      border: 2px dashed #ff99cc;
    }
    .note {
      margin-top: 5vw;
      font-size: 3.5vw;
      color: #996699;
      text-align: center;
    }
    .footer {
      text-align: center;
      margin-top: 8vw;
      font-size: 3.8vw;
      color: #cc3399;
    }
    .mascot {
      position: absolute;
      top: -60px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 80px;
      background: url('https://cdn-icons-png.flaticon.com/512/616/616408.png') no-repeat center center;
      background-size: contain;
    }
    .brand {
      text-align: center;
      font-size: 5vw;
      font-weight: bold;
      color: #ff66aa;
      margin-bottom: 2vw;
    }
    @media (min-width: 768px) {
      h2 { font-size: 32px; }
      .brand { font-size: 24px; }
      label, input, select, button, .result, .note, .footer {
        font-size: 18px;
      }
      input, select, button {
        padding: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="mascot" title="CHINACNUå‰ç¥¥ç‰©"></div>
    <div class="brand">CHINACNU STEEL</div>
    <h2>é’¢å·åŠ ä»·è®¡ç®—å™¨<br>é”Œå±‚ãƒ»æ¼†è†œãƒ»è€æŒ‡çº¹</h2>

    <label for="productType">äº§å“ç±»å‹ / Product Type</label>
    <select id="productType" onchange="toggleFields()">
      <option value="color">å½©æ¶‚å· / Color Coated</option>
      <option value="aluZinc">é•€é“é”Œ / Aluzinc</option>
      <option value="galvanized">é•€é”Œå· / Galvanized</option>
    </select>

    <label for="thickness">åšåº¦ (mm) / Thickness</label>
    <input type="number" id="thickness" step="0.01" placeholder="ä¾‹å¦‚ï¼š0.5">

    <label for="width">å®½åº¦ (mm) / Width</label>
    <input type="number" id="width" step="1" placeholder="ä¾‹å¦‚ï¼š1250">

    <div id="coatingWrapper">
      <label for="coatingCount">æ‚¨è¦åŠ çš„æ¼†è†œå±‚æ•° / Coating Layers to Add</label>
      <input type="number" id="coatingCount" step="1" min="0" placeholder="ä¾‹å¦‚ï¼š2">
    </div>

    <label for="zincCount">æ‚¨è¦åŠ çš„é”Œå±‚å±‚æ•° / Zinc Layers to Add</label>
    <input type="number" id="zincCount" step="1" min="0" placeholder="ä¾‹å¦‚ï¼š1">

    <div id="fingerprintWrapper">
      <label for="fingerprint">è€æŒ‡çº¹ç±»å‹ / Anti-Fingerprint</label>
      <select id="fingerprint">
        <option value="none">æ—  / None</option>
        <option value="clear">é€æ˜åŒé¢ / Clear Double</option>
        <option value="color">å½©è‰²åŒé¢ / Color Double</option>
        <option value="gold">é‡‘è‰²åŒé¢ / Gold Double</option>
        <option value="green">å•é¢ç»¿è‰² / Green Single</option>
      </select>
    </div>

    <label for="exchangeRate">å½“å‰æ±‡ç‡ (USDå…‘CNY)</label>
    <input type="number" id="exchangeRate" step="0.01" value="7.20">

    <button onclick="calculateCost()">âœ¨ è®¡ç®—åŠ ä»·ï¼</button>

    <div class="result" id="result"></div>
    <div class="note">
      ğŸ“ æ ¹æ®é’¢å·ç±»å‹è‡ªåŠ¨åˆ‡æ¢å¯åŠ é¡¹ï¼Œæ±‡ç‡è‡ªåŠ¨è·å–ï¼Œè®¡ç®—äººæ°‘å¸ä¸ç¾å…ƒä»·æ ¼ï½
    </div>
    <div class="footer">
      ğŸ’Œ WhatsApp: +86 191 5431 6688<br>
      CHINACNU STEEL ç‰ˆæƒæ‰€æœ‰
    </div>
  </div>

  <script>
    function toggleFields() {
      const productTypeEl = document.getElementById('productType');
      const coatingWrapper = document.getElementById('coatingWrapper');
      const fingerprintWrapper = document.getElementById('fingerprintWrapper');
      const type = productTypeEl.value;

      coatingWrapper.style.display = 'none';
      fingerprintWrapper.style.display = 'none';

      if (type === 'color') {
        coatingWrapper.style.display = 'block';
      } else if (type === 'aluZinc') {
        fingerprintWrapper.style.display = 'block';
      }
    }

    async function fetchExchangeRate() {
      try {
        const response = await fetch('https://open.er-api.com/v6/latest/USD');
        const data = await response.json();
        const rate = data.rates?.CNY;
        if (rate) {
          document.getElementById('exchangeRate').value = rate.toFixed(2);
        }
      } catch (error) {
        console.error('æ— æ³•è·å–æ±‡ç‡ï¼Œä½¿ç”¨é»˜è®¤å€¼ã€‚');
      }
    }

    function calculateCost() {
      const thickness = parseFloat(document.getElementById('thickness').value) / 1000;
      const width = parseFloat(document.getElementById('width').value) / 1000;
      const coatingCount = parseInt(document.getElementById('coatingCount')?.value) || 0;
      const zincCount = parseInt(document.getElementById('zincCount')?.value) || 0;
      const fingerprint = document.getElementById('fingerprint')?.value || 'none';
      const productType = document.getElementById('productType').value;
      const exchangeRate = parseFloat(document.getElementById('exchangeRate')?.value) || 7.2;

      if (!thickness || !width) {
        document.getElementById('result').innerHTML = "<span style='color:red'>è¯·å¡«å†™å®Œæ•´çš„åšåº¦å’Œå®½åº¦</span>";
        return;
      }

      const density = 7850;
      const volumePerTon = 1 / (density / 1000);
      const areaPerTon = volumePerTon / thickness;
      const metersPerTon = areaPerTon / width;

      const coatingCost = (productType === 'color') ? areaPerTon * coatingCount * 0.05 : 0;
      const zincCost = areaPerTon * zincCount * 0.025;

      let fingerprintCost = 0;
      if (fingerprint === 'clear') fingerprintCost = areaPerTon * 0.23;
      if (fingerprint === 'color') fingerprintCost = areaPerTon * 0.33;
      if (fingerprint === 'gold') fingerprintCost = areaPerTon * 0.41;
      if (fingerprint === 'green') fingerprintCost = areaPerTon * 0.23;

      const total = coatingCost + zincCost + fingerprintCost;
      const totalUSD = total / exchangeRate;

      document.getElementById('result').innerHTML =
        `æ¯å¨é•¿åº¦çº¦ä¸º / Length per ton: <strong>${metersPerTon.toFixed(2)}</strong> ç±³ / m<br>` +
        `æ¯å¨é¢ç§¯çº¦ä¸º / Area per ton: <strong>${areaPerTon.toFixed(2)}</strong> å¹³æ–¹ç±³ / ã¡<br>` +
        `æ¼†è†œåŠ ä»· / Coating cost: <strong>Â¥${coatingCost.toFixed(2)}</strong><br>` +
        `é”Œå±‚åŠ ä»· / Zinc cost: <strong>Â¥${zincCost.toFixed(2)}</strong><br>` +
        `è€æŒ‡çº¹åŠ ä»· / Anti-fingerprint cost: <strong>Â¥${fingerprintCost.toFixed(2)}</strong><br>` +
        `âœ¨ æ€»åŠ ä»·ï¼ˆäººæ°‘å¸ï¼‰/ Total in CNY: <strong style="color: #e91e63">Â¥${total.toFixed(2)}</strong><br>` +
        `ğŸ’² æ€»åŠ ä»·ï¼ˆç¾å…ƒï¼‰/ Total in USD: <strong style="color: #007bff">$${totalUSD.toFixed(2)}</strong> <span style="color: #999;">ï¼ˆæ±‡ç‡ Exchange rate ${exchangeRate.toFixed(2)}ï¼‰</span>`;
    }

    window.onload = () => {
      toggleFields();
      fetchExchangeRate();
    };
  </script>
</body>
</html>
